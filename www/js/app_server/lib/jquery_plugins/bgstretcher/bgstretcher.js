(function(e){var t=null,n="",r="",s="",o=this,u=!1,a=null;e.fn.bgStretcher=function(o){function u(){if(!o.images.length)return;l(),s="#"+o.imageContainer,t=e(s),n="#"+o.imageContainer+" IMG",r="#"+o.imageContainer+" LI",e(r).hide(),e(r+":first").show().addClass("bgs-current");if(!t.length)return;e(window).resize(f),o.slideShow&&e(n).length>1&&(a=setTimeout("$.fn.bgStretcher.slideShow()",o.nextSlideDelay)),f()}function f(){var r=e(window).width(),i=e(window).height(),s=0,u=0;t.width(r),t.height(i);if(!o.resizeProportionally)s=r,u=i;else{var a=o.imageWidth,f=o.imageHeight,l=f/a;s=r,u=r*l,u<i&&(u=i,s=u/l)}o.resizeAnimate?e(n).animate({width:s,height:u},"normal"):e(n).width(s).height(u)}function l(){var t='<div id="'+o.imageContainer+'" class="bgstretcher"><ul>';for(i=0;i<o.images.length;i++)t+='<li><img src="'+o.images[i]+'" alt="" /></li>';t+="</ul></div>",e(t).appendTo("body")}o=e.extend({},e.fn.bgStretcher.defaults,o),e.fn.bgStretcher.settings=o,u()},e.fn.bgStretcher.play=function(){u=!1,e.fn.bgStretcher._clearTimeout(),e.fn.bgStretcher.slideShow()},e.fn.bgStretcher._clearTimeout=function(){a!=null&&(clearTimeout(a),a=null)},e.fn.bgStretcher.pause=function(){u=!0,e.fn.bgStretcher._clearTimeout()},e.fn.bgStretcher.slideShow=function(){var t=e(s+" LI.bgs-current"),n=t.next();n.length||(n=e(s+" LI:first")),e(s+" LI").removeClass("bgs-current"),n.addClass("bgs-current"),n.fadeIn(e.fn.bgStretcher.settings.slideShowSpeed),t.fadeOut(e.fn.bgStretcher.settings.slideShowSpeed),u||(a=setTimeout("$.fn.bgStretcher.slideShow()",e.fn.bgStretcher.settings.nextSlideDelay))},e.fn.bgStretcher.defaults={imageContainer:"bgstretcher",resizeProportionally:!0,resizeAnimate:!1,images:[],imageWidth:1024,imageHeight:768,nextSlideDelay:3e3,slideShowSpeed:"normal",slideShow:!0},e.fn.bgStretcher.settings={}})(jQuery);