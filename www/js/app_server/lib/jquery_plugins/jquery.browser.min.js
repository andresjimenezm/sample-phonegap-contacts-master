(function(e){e.browserTest=function(t,n){var r="unknown",i="X",s=function(e,t){for(var n=0;n<t.length;n+=1)e=e.replace(t[n][0],t[n][1]);return e},o=function(t,n,o,a){var f={name:s((n.exec(t)||[r,r])[1],o)};return f[f.name]=!0,f.version=(a.exec(t)||[i,i,i,i])[3],f.name.match(/safari/)&&f.version>400&&(f.version="2.0"),f.name==="presto"&&(f.version=e.browser.version>9.27?"futhark":"linear_b"),f.versionNumber=parseFloat(f.version,10)||0,f.versionX=f.version!==i?(f.version+"").substr(0,1):i,f.className=f.name+f.versionX,f};t=(t.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?s(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase(),e.browser=e.extend(n?{}:e.browser,o(t,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),e.layout=o(t,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),e.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[r])[0].replace("sunos","solaris")},n||e("html").addClass([e.os.name,e.browser.name,e.browser.className,e.layout.name,e.layout.className].join(" "))},e.browserTest(navigator.userAgent)})(jQuery);