/*!
 * VERSION: beta 0.1.3
 * DATE: 2013-01-26
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("plugins.EaselPlugin",["plugins.TweenPlugin"],function(e){var t,n,r=function(){e.call(this,"easel",-1),this._overwriteProps.pop()},i=r.prototype=new e("easel",-1),s=/(\d|\.)+/g,o=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],u=function(e,n,r){if(!t&&(t=window.ColorFilter||window.createjs.ColorFilter,!t))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var i,s,u,a,f,l=e.filters||[],c=l.length;--c>-1;)if(l[c]instanceof t){s=l[c];break}if(s||(s=new t,l.push(s),e.filters=l),u=s.clone(),null!=n.tint)i=y(n.tint),a=null!=n.tintAmount?Number(n.tintAmount):1,u.redOffset=Number(i[0])*a,u.greenOffset=Number(i[1])*a,u.blueOffset=Number(i[2])*a,u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1-a;else for(f in n)"exposure"!==f&&"brightness"!==f&&(u[f]=Number(n[f]));for(null!=n.exposure?(u.redOffset=u.greenOffset=u.blueOffset=255*(Number(n.exposure)-1),u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1):null!=n.brightness&&(a=Number(n.brightness)-1,u.redOffset=u.greenOffset=u.blueOffset=a>0?255*a:0,u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1-Math.abs(a)),c=8;--c>-1;)f=o[c],s[f]!==u[f]&&r._addTween(s,f,s[f],u[f],"easel_colorFilter");if(r._overwriteProps.push("easel_colorFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e},a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],f=.212671,l=.71516,c=.072169,h=function(e,t){if(e instanceof Array&&t instanceof Array){var n,r,i=[],s=0,o=0;for(n=0;4>n;n++){for(r=0;5>r;r++)o=4===r?e[s+4]:0,i[s+r]=e[s]*t[r]+e[s+1]*t[r+5]+e[s+2]*t[r+10]+e[s+3]*t[r+15]+o;s+=5}return i}return t},p=function(e,t){if(isNaN(t))return e;var n=1-t,r=n*f,i=n*l,s=n*c;return h([r+t,i,s,0,0,r,i+t,s,0,0,r,i,s+t,0,0,0,0,0,1,0],e)},d=function(e,t,n){isNaN(n)&&(n=1);var r=y(t),i=r[0]/255,s=r[1]/255,o=r[2]/255,u=1-n;return h([u+n*i*f,n*i*l,n*i*c,0,0,n*s*f,u+n*s*l,n*s*c,0,0,n*o*f,n*o*l,u+n*o*c,0,0,0,0,0,1,0],e)},v=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return h([f+n*(1-f)+r*-f,l+n*-l+r*-l,c+n*-c+r*(1-c),0,0,f+n*-f+.143*r,l+n*(1-l)+.14*r,c+n*-c+r*-0.283,0,0,f+n*-f+r*-(1-f),l+n*-l+r*l,c+n*(1-c)+r*c,0,0,0,0,0,1,0,0,0,0,0,1],e)},m=function(e,t){return isNaN(t)?e:(t+=.01,h([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},g=function(e,t,r){if(!n&&(n=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!n))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var i,s,o,u,f=e.filters||[],l=f.length;--l>-1;)if(f[l]instanceof n){o=f[l];break}for(o||(o=new n(a.slice()),f.push(o),e.filters=f),u=o.clone(),s=i=u.matrix||a,null!=t.colorize&&(i=d(i,t.colorize,Number(t.colorizeAmount))),null!=t.contrast&&(i=m(i,Number(t.contrast))),null!=t.hue&&(i=v(i,Number(t.hue))),null!=t.saturation&&(i=p(i,Number(t.saturation))),l=i.length;--l>-1;)i[l]!==s[l]&&r._addTween(s,l,s[l],i[l],"easel_colorMatrixFilter");if(r._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;r._matrix=s},y=function(e){return""===e||null==e||"none"===e?b.transparent:b[e]?b[e]:"number"==typeof e?[e>>16,255&e>>8,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):e.match(s)||b.transparent},b={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};return i.constructor=r,r.API=2,r.version="0.1.3",i._onInitTween=function(e,t){this._target=e;var n,r,i,s;for(n in t)"colorFilter"===n||"tint"===n||"tintAmount"===n||"exposure"===n||"brightness"===n?i||(u(e,t.colorFilter||t,this),i=!0):"saturation"===n||"contrast"===n||"hue"===n||"colorize"===n||"colorizeAmount"===n?s||(g(e,t.colorMatrixFilter||t,this),s=!0):null!=e[n]&&(this._firstPT=r={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pr:0,type:0},r.s=r.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),r.c="number"==typeof t[n]?t[n]-r.s:"string"==typeof t[n]?parseFloat(t[n].split("=").join("")):0,r._next&&(r._next._prev=r));return!0},i.setRatio=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.c*e+n.s,n.r?t=t+(t>0?.5:-0.5)>>0:r>t&&t>-r&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next;this._target.cacheID&&this._target.updateCache()},e.activate([r]),r},!0)}),window._gsDefine&&window._gsQueue.pop()();